# ASTRAL_CORE 2.0 - Production Environment Variables
# Copy this file to .env.production and fill in the secure values

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
NODE_ENV=production
PORT=3000
NEXT_TELEMETRY_DISABLED=1

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Production PostgreSQL connection (use connection pooling)
DATABASE_URL="postgresql://username:password@postgres:5432/astral_core_prod?schema=public&connection_limit=20&pool_timeout=20"
POSTGRES_DB=astral_core_prod
POSTGRES_USER=astral_user
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=CHANGE_ME_32_CHAR_SECRET
NEXTAUTH_URL=https://astralcore.org

# Crisis encryption key (generate with: openssl rand -base64 64)
CRISIS_ENCRYPTION_KEY=CHANGE_ME_64_CHAR_CRISIS_ENCRYPTION_KEY

# Admin secret (generate with: openssl rand -base64 32)
ADMIN_SECRET=CHANGE_ME_ADMIN_SECRET

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_URL=redis://:CHANGE_ME_REDIS_PASSWORD@redis:6379/0
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# Sentry for error monitoring
SENTRY_DSN=https://YOUR_SENTRY_DSN@sentry.io/PROJECT_ID
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=astral-core

# Twilio for emergency communications
TWILIO_ACCOUNT_SID=AC_YOUR_TWILIO_ACCOUNT_SID
TWILIO_AUTH_TOKEN=YOUR_TWILIO_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+1234567890

# National Lifeline API (if available)
LIFELINE_API_KEY=YOUR_LIFELINE_API_KEY
LIFELINE_API_URL=https://api.suicidepreventionlifeline.org

# ============================================================================
# MONITORING & ALERTING
# ============================================================================
# Grafana configuration
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD
GRAFANA_WEBHOOK=https://your-grafana-instance/api/annotations
GRAFANA_TOKEN=YOUR_GRAFANA_API_TOKEN

# Slack notifications
SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# ============================================================================
# SSL/TLS CONFIGURATION
# ============================================================================
# SSL certificate paths (mounted from host or secrets manager)
SSL_CERT_PATH=/etc/ssl/certs/astralcore.org.crt
SSL_KEY_PATH=/etc/ssl/certs/astralcore.org.key
SSL_ADMIN_CERT_PATH=/etc/ssl/certs/admin.astralcore.org.crt
SSL_ADMIN_KEY_PATH=/etc/ssl/certs/admin.astralcore.org.key

# ============================================================================
# PERFORMANCE & SCALING
# ============================================================================
# Connection limits and timeouts
MAX_CONNECTIONS=1000
CONNECTION_TIMEOUT=30000
WEBSOCKET_TIMEOUT=24h

# Memory limits
NODE_OPTIONS="--max-old-space-size=2048"

# ============================================================================
# FEATURE FLAGS (for gradual rollouts)
# ============================================================================
ENABLE_NEW_CRISIS_UI=true
ENABLE_AI_SAFETY_FEATURES=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_BETA_FEATURES=false

# ============================================================================
# BACKUP & DISASTER RECOVERY
# ============================================================================
# AWS S3 for backups (if using AWS)
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_REGION=us-east-1
BACKUP_BUCKET=astral-core-backups

# Backup encryption key
BACKUP_ENCRYPTION_KEY=CHANGE_ME_BACKUP_ENCRYPTION_KEY