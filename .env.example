# ASTRAL CORE 2.0 - Environment Variables Template
# Copy this file to .env.local for development or set in production environment

# Database Configuration (PostgreSQL) - CRITICAL FOR PRODUCTION
# PRODUCTION REQUIRED: Use managed PostgreSQL with SSL
DATABASE_URL=postgresql://user:password@localhost:5432/astralcore
# PRODUCTION: Use connection pooling and SSL
DATABASE_POOL_SIZE=20
DATABASE_SSL=true
DATABASE_BACKUP_ENABLED=true

# Redis Configuration (for caching and sessions) - CRITICAL FOR SCALING
# PRODUCTION REQUIRED: Use managed Redis with authentication
REDIS_URL=redis://localhost:6379
# REQUIRED: Strong Redis password in production
REDIS_PASSWORD=REQUIRED_IN_PRODUCTION_REDIS_AUTH
REDIS_SSL=true
REDIS_CLUSTER_ENABLED=false

# Authentication & Security (CRITICAL - MUST be set in production)
# REQUIRED: Generate with: openssl rand -base64 32
JWT_SECRET=REQUIRED_IN_PRODUCTION_32_CHAR_MIN
# REQUIRED: Generate with: openssl rand -base64 32  
SESSION_SECRET=REQUIRED_IN_PRODUCTION_32_CHAR_MIN
# REQUIRED: Generate with: openssl rand -hex 32 (exactly 32 bytes for AES-256)
ENCRYPTION_KEY=REQUIRED_IN_PRODUCTION_EXACTLY_32_BYTES
# HIPAA Requirement: Use industry-standard encryption
CRISIS_ENCRYPTION_KEY=REQUIRED_IN_PRODUCTION_FOR_PHI_DATA

# NextAuth Configuration (CRITICAL - Referenced in turbo.json)
# REQUIRED: Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=REQUIRED_IN_PRODUCTION_NEXTAUTH_SECRET
# REQUIRED: Your production domain
NEXTAUTH_URL=https://yourdomain.com
# OAuth providers (optional but recommended)
NEXTAUTH_PROVIDERS_ENABLED=credentials,google,github

# Crisis Hotline Integration (CRITICAL - REQUIRED for mental health platform)
# REQUIRED: Contact 988 Lifeline for API access: https://988lifeline.org/partners/
CRISIS_988_API_KEY=REQUIRED_CONTACT_988_LIFELINE_FOR_API
CRISIS_988_API_URL=https://988lifeline.org/api
# REQUIRED: Contact Crisis Text Line: https://www.crisistextline.org/partners
CRISIS_TEXT_API_KEY=REQUIRED_CONTACT_CRISIS_TEXT_LINE
CRISIS_TEXT_API_URL=https://www.crisistextline.org/api
# Backup crisis resources
CRISIS_BACKUP_HOTLINE=1-800-273-8255
CRISIS_INTERNATIONAL_HOTLINE=+1-800-366-8288

# Emergency Services Integration (CRITICAL - REQUIRED for emergency escalation)
# REQUIRED: Contact local emergency dispatch systems
EMERGENCY_911_GATEWAY_URL=REQUIRED_CONTACT_LOCAL_EMERGENCY_DISPATCH
EMERGENCY_911_API_KEY=REQUIRED_FOR_EMERGENCY_ESCALATION
EMERGENCY_DISPATCH_WEBHOOK=REQUIRED_FOR_AUTOMATED_ALERTS
# Emergency contact validation
EMERGENCY_VALIDATION_ENABLED=true

# AI & Natural Language Processing (CRITICAL - REQUIRED for risk assessment)
# REQUIRED: Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=REQUIRED_FOR_RISK_ASSESSMENT_AND_AI_FEATURES
# REQUIRED: Get from https://console.anthropic.com/
ANTHROPIC_API_KEY=REQUIRED_FOR_ADVANCED_NLP_PROCESSING
# AI Model configuration
NLP_MODEL=gpt-4
# CRITICAL: Risk assessment threshold (0.7 = 70% confidence for crisis detection)
RISK_ASSESSMENT_THRESHOLD=0.7
# AI safety settings
AI_CONTENT_FILTER_ENABLED=true
AI_BIAS_DETECTION_ENABLED=true

# WebSocket Configuration
WS_PORT=3001
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=10000

# Email Service (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=support@astralcore.crisis

# SMS Service (for emergency alerts)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
SMS_EMERGENCY_NUMBERS=

# Monitoring & Analytics
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
MIXPANEL_TOKEN=
GOOGLE_ANALYTICS_ID=
DATADOG_API_KEY=

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_CRISIS_BYPASS=true

# HIPAA Compliance
HIPAA_AUDIT_LOG_ENABLED=true
HIPAA_ENCRYPTION_STANDARD=AES-256
PHI_RETENTION_DAYS=2555

# Deployment Configuration
NODE_ENV=production
NEXT_PUBLIC_API_URL=https://api.astralcore.crisis
NEXT_PUBLIC_WS_URL=wss://ws.astralcore.crisis
NEXT_PUBLIC_EMERGENCY_MODE=false

# CDN & Static Assets
CDN_URL=
CLOUDFLARE_API_KEY=
CLOUDFLARE_ZONE_ID=

# Backup & Recovery
BACKUP_ENABLED=true
BACKUP_S3_BUCKET=
BACKUP_SCHEDULE=0 3 * * *
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# Feature Flags
FEATURE_AI_RISK_ASSESSMENT=true
FEATURE_VOLUNTEER_MATCHING=true
FEATURE_EMERGENCY_ESCALATION=true
FEATURE_CRISIS_CHAT=true
FEATURE_OFFLINE_MODE=true

# Volunteer Training Portal
TRAINING_API_URL=
TRAINING_CERTIFICATE_ISSUER=ASTRAL_CORE

# Performance Settings
MAX_CRISIS_SESSIONS=1000
VOLUNTEER_POOL_MIN=50
CACHE_TTL=3600
CONNECTION_TIMEOUT=30000

# Security Headers
CSP_DIRECTIVES="default-src 'self'; script-src 'self' 'nonce-{nonce}' https://js.sentry-cdn.com; style-src 'self' 'nonce-{nonce}' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' wss: https:; frame-ancestors 'none'; base-uri 'self'; form-action 'self';"
HSTS_MAX_AGE=31536000

# Third-Party Integrations
GOOGLE_MAPS_API_KEY=
FACEBOOK_APP_ID=
TWITTER_API_KEY=

# Testing (disable in production)
ENABLE_TEST_MODE=false
TEST_USER_ID=
TEST_VOLUNTEER_ID=

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System under maintenance. Crisis support still available: Call 988"
MAINTENANCE_END_TIME=

# Crisis Keywords (comma-separated, handle with care)
HIGH_RISK_KEYWORDS=
MEDIUM_RISK_KEYWORDS=
ESCALATION_TRIGGERS=

# Legal & Compliance
TERMS_OF_SERVICE_URL=https://astralcore.crisis/terms
PRIVACY_POLICY_URL=https://astralcore.crisis/privacy
HIPAA_NOTICE_URL=https://astralcore.crisis/hipaa
MANDATORY_REPORTER_ENABLED=true