/**
 * ASTRAL CORE 2.0 - Therapeutic Animations & Transitions
 * 
 * Calming, non-intrusive animations designed for mental health contexts.
 * Respects prefers-reduced-motion and provides gentle, healing interactions.
 */

/* ================================
   CSS Custom Properties
   ================================ */
:root {
  /* Animation Durations */
  --duration-instant: 0ms;
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 350ms;
  --duration-slower: 500ms;
  --duration-breathe: 4000ms;
  --duration-meditative: 6000ms;
  --duration-gentle: 800ms;

  /* Therapeutic Easings */
  --ease-breathe: cubic-bezier(0.37, 0, 0.63, 1);
  --ease-calm: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ease-gentle: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-organic: cubic-bezier(0.4, 0, 0.2, 1);

  /* Therapeutic Colors */
  --color-calm-start: #667eea;
  --color-calm-end: #764ba2;
  --color-breathing-start: #4facfe;
  --color-breathing-end: #00f2fe;
  --color-grounding-start: #43e97b;
  --color-grounding-end: #38f9d7;
  --color-warmth-start: #fa709a;
  --color-warmth-end: #fee140;
  --color-trust-start: #a8edea;
  --color-trust-end: #fed6e3;
  --color-hope-start: #d299c2;
  --color-hope-end: #fef9d7;
}

/* ================================
   Keyframe Animations
   ================================ */

/* Therapeutic Breathing Animation */
@keyframes breathe {
  0%, 100% {
    transform: scale(1);
    opacity: 0.8;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
}

/* Gentle Floating for Calm Elements */
@keyframes float {
  0%, 100% {
    transform: translateY(0px) rotate(0deg);
    opacity: 0.8;
  }
  33% {
    transform: translateY(-10px) rotate(1deg);
    opacity: 0.9;
  }
  66% {
    transform: translateY(-5px) rotate(-1deg);
    opacity: 1;
  }
}

/* Wave Animation for Progress Indicators */
@keyframes wave {
  0% { transform: translateX(-100%); }
  50% { transform: translateX(0%); }
  100% { transform: translateX(100%); }
}

/* Subtle Glow for Safe Spaces */
@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(16, 185, 129, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.6);
  }
}

/* Heartbeat for Life Indicators */
@keyframes heartbeat {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  14% {
    transform: scale(1.1);
    opacity: 0.9;
  }
  28% {
    transform: scale(1);
    opacity: 1;
  }
  42% {
    transform: scale(1.1);
    opacity: 0.9;
  }
  70% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Gentle Ripple Effect */
@keyframes ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

/* Soft Shimmer for Loading States */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Gentle Fade In/Out */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-10px);
  }
}

/* Calming Scale Animation */
@keyframes calmScale {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

/* ================================
   Animation Classes
   ================================ */

/* Breathing Animations */
.animate-breathe {
  animation: breathe var(--duration-breathe) var(--ease-breathe) infinite;
}

.animate-breathe-slow {
  animation: breathe var(--duration-meditative) var(--ease-breathe) infinite;
}

/* Floating Animations */
.animate-float {
  animation: float 6s var(--ease-gentle) infinite;
}

.animate-float-delayed {
  animation: float 6s var(--ease-gentle) infinite;
  animation-delay: 2s;
}

/* Wave Animations */
.animate-wave {
  animation: wave 2s var(--ease-gentle) infinite;
}

/* Glow Animations */
.animate-glow {
  animation: glow 3s var(--ease-calm) infinite;
}

.animate-glow-crisis {
  animation: glow 1.5s var(--ease-calm) infinite;
  --glow-color: rgba(220, 38, 38, 0.6);
}

/* Heartbeat Animations */
.animate-heartbeat {
  animation: heartbeat 2s var(--ease-organic) infinite;
}

/* Gentle Animations */
.animate-gentle-scale {
  animation: calmScale 4s var(--ease-calm) infinite;
}

.animate-gentle-fade-in {
  animation: fadeIn var(--duration-gentle) var(--ease-gentle) forwards;
}

.animate-gentle-fade-out {
  animation: fadeOut var(--duration-gentle) var(--ease-gentle) forwards;
}

/* Shimmer for Loading */
.animate-shimmer {
  position: relative;
  overflow: hidden;
}

.animate-shimmer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.3),
    transparent
  );
  animation: shimmer 2s var(--ease-gentle) infinite;
}

/* ================================
   Interaction Animations
   ================================ */

/* Gentle Hover Effects */
.hover-lift {
  transition: transform var(--duration-normal) var(--ease-gentle);
}

.hover-lift:hover {
  transform: translateY(-2px);
}

.hover-lift-gentle {
  transition: transform var(--duration-slow) var(--ease-gentle);
}

.hover-lift-gentle:hover {
  transform: translateY(-1px);
}

/* Calming Focus Effects */
.focus-calm {
  transition: box-shadow var(--duration-normal) var(--ease-gentle);
}

.focus-calm:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
}

.focus-therapeutic {
  transition: all var(--duration-normal) var(--ease-gentle);
}

.focus-therapeutic:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.4);
  transform: scale(1.02);
}

/* Gentle Press Effects */
.press-gentle {
  transition: transform var(--duration-fast) var(--ease-gentle);
}

.press-gentle:active {
  transform: scale(0.98);
}

/* ================================
   Therapeutic Gradients
   ================================ */

.gradient-calm {
  background: linear-gradient(135deg, var(--color-calm-start) 0%, var(--color-calm-end) 100%);
}

.gradient-breathing {
  background: linear-gradient(135deg, var(--color-breathing-start) 0%, var(--color-breathing-end) 100%);
}

.gradient-grounding {
  background: linear-gradient(135deg, var(--color-grounding-start) 0%, var(--color-grounding-end) 100%);
}

.gradient-warmth {
  background: linear-gradient(135deg, var(--color-warmth-start) 0%, var(--color-warmth-end) 100%);
}

.gradient-trust {
  background: linear-gradient(135deg, var(--color-trust-start) 0%, var(--color-trust-end) 100%);
}

.gradient-hope {
  background: linear-gradient(135deg, var(--color-hope-start) 0%, var(--color-hope-end) 100%);
}

/* ================================
   Accessibility & Reduced Motion
   ================================ */

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Keep essential animations but make them instant */
  .animate-breathe,
  .animate-float,
  .animate-wave,
  .animate-glow,
  .animate-heartbeat,
  .animate-gentle-scale {
    animation: none !important;
  }

  /* Maintain visual feedback without motion */
  .hover-lift:hover,
  .hover-lift-gentle:hover {
    transform: none;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
}

/* High contrast mode adjustments */
@media (prefers-contrast: high) {
  .focus-calm:focus,
  .focus-therapeutic:focus {
    box-shadow: 0 0 0 3px #ffff00;
  }

  .animate-glow {
    --glow-color: #ffffff;
  }
}

/* ================================
   Mobile-Specific Optimizations
   ================================ */

@media (max-width: 768px) {
  /* Reduce animation complexity on mobile */
  .animate-float {
    animation-duration: 8s;
  }

  .animate-breathe {
    animation-duration: 5s;
  }

  /* Optimize for touch interactions */
  .hover-lift:active,
  .hover-lift-gentle:active {
    transform: scale(0.95);
  }
}

/* ================================
   Crisis Mode Animations
   ================================ */

.crisis-mode {
  /* More prominent animations for crisis situations */
  --duration-breathe: 3000ms;
  --duration-gentle: 600ms;
}

.crisis-mode .animate-glow {
  animation-duration: 1s;
}

.crisis-mode .animate-heartbeat {
  animation-duration: 1.5s;
}

.crisis-mode .focus-therapeutic:focus {
  box-shadow: 0 0 0 4px rgba(220, 38, 38, 0.5);
}

/* ================================
   Therapeutic Loading States
   ================================ */

.loading-therapeutic {
  position: relative;
  overflow: hidden;
}

.loading-therapeutic::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(16, 185, 129, 0.2),
    transparent
  );
  animation: shimmer 2s var(--ease-gentle) infinite;
}

/* Breathing circle for loading */
.loading-breathe {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(16, 185, 129, 0.3);
  border-top: 3px solid #10b981;
  border-radius: 50%;
  animation: breathe 2s var(--ease-breathe) infinite;
}

/* ================================
   Utility Classes
   ================================ */

/* Transition utilities */
.transition-gentle {
  transition: all var(--duration-gentle) var(--ease-gentle);
}

.transition-calm {
  transition: all var(--duration-normal) var(--ease-calm);
}

.transition-organic {
  transition: all var(--duration-normal) var(--ease-organic);
}

/* Transform utilities */
.transform-therapeutic {
  transition: transform var(--duration-normal) var(--ease-gentle);
}

.transform-therapeutic:hover {
  transform: translateY(-1px) scale(1.01);
}

/* Opacity utilities */
.opacity-therapeutic {
  transition: opacity var(--duration-gentle) var(--ease-gentle);
}

/* Shadow utilities */
.shadow-therapeutic {
  box-shadow: 0 4px 20px rgba(16, 185, 129, 0.1);
  transition: box-shadow var(--duration-normal) var(--ease-gentle);
}

.shadow-therapeutic:hover {
  box-shadow: 0 8px 30px rgba(16, 185, 129, 0.2);
}