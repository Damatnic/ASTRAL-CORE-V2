/**
 * Mental Health Optimized Color System
 * Based on research from leading mental health apps
 * All colors meet WCAG AAA standards where possible
 */

:root {
  /* Primary Palette - Calming & Therapeutic */
  --astral-blue-50: #EFF6FF;
  --astral-blue-100: #DBEAFE;
  --astral-blue-500: #3B82F6;
  --astral-blue-600: #2563EB;
  --astral-blue-700: #1D4ED8;
  
  --astral-purple-50: #FAF5FF;
  --astral-purple-100: #F3E8FF;
  --astral-purple-500: #A855F7;
  --astral-purple-600: #9333EA;
  
  --astral-green-50: #F0FDF4;
  --astral-green-100: #DCFCE7;
  --astral-green-500: #22C55E;
  --astral-green-600: #16A34A;
  
  /* Text Colors - Optimal Readability */
  --text-primary: #1F2937;      /* Gray-800: 15.3:1 on white */
  --text-secondary: #4B5563;    /* Gray-600: 7.0:1 on white */
  --text-tertiary: #6B7280;     /* Gray-500: 4.95:1 on white */
  --text-light: #9CA3AF;        /* Gray-400: 3.03:1 - use sparingly */
  --text-link: #2563EB;         /* Blue-600: 4.53:1 on white */
  --text-on-dark: #F9FAFB;      /* Gray-50 for dark backgrounds */
  
  /* Backgrounds */
  --bg-white: #FFFFFF;
  --bg-off-white: #FAFAFA;
  --bg-light: #F3F4F6;
  --bg-glass: rgba(255, 255, 255, 0.85);
  --bg-glass-blur: rgba(248, 250, 252, 0.9);
  
  /* Crisis & Alerts - Gentle but Clear */
  --crisis-red: #DC2626;        /* Use very sparingly */
  --crisis-bg: #FEF2F2;
  --crisis-border: #FCA5A5;
  --warning-yellow: #F59E0B;
  --warning-bg: #FEF3C7;
  --success-green: #059669;
  --success-bg: #D1FAE5;
}

/* Dark Mode Adjustments */
@media (prefers-color-scheme: dark) {
  :root {
    --text-primary: #F3F4F6;
    --text-secondary: #D1D5DB;
    --text-tertiary: #9CA3AF;
    --text-light: #6B7280;
    --bg-white: #111827;
    --bg-off-white: #1F2937;
    --bg-light: #374151;
    --bg-glass: rgba(17, 24, 39, 0.85);
    --bg-glass-blur: rgba(31, 41, 55, 0.9);
  }
}

/* Apply Base Colors */
body {
  color: var(--text-primary);
  background-color: var(--bg-white);
}

/* Headers */
h1, h2, h3, h4, h5, h6 {
  color: var(--text-primary);
  font-weight: 600;
  line-height: 1.2;
}

/* Paragraphs and Lists */
p, li {
  color: var(--text-secondary);
  line-height: 1.7;
}

/* Links */
a:not([class*="btn"]):not([class*="button"]) {
  color: var(--text-link);
  text-decoration: none;
  transition: all 0.2s ease;
}

a:not([class*="btn"]):not([class*="button"]):hover {
  color: var(--astral-blue-700);
  text-decoration: underline;
}

/* Glass Morphism Components */
.glass,
.glass-mixed {
  background: var(--bg-glass);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-heavy {
  background: var(--bg-glass-blur);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
}

/* Ensure text on glass is readable */
.glass h1, .glass h2, .glass h3,
.glass-mixed h1, .glass-mixed h2, .glass-mixed h3,
.glass-heavy h1, .glass-heavy h2, .glass-heavy h3 {
  color: var(--text-primary);
}

.glass p, .glass span, .glass div,
.glass-mixed p, .glass-mixed span, .glass-mixed div,
.glass-heavy p, .glass-heavy span, .glass-heavy div {
  color: var(--text-secondary);
}

/* Form Elements */
input:not([type="checkbox"]):not([type="radio"]),
textarea,
select {
  color: var(--text-primary);
  background-color: var(--bg-white);
  border: 1px solid var(--text-light);
  padding: 0.5rem 0.75rem;
}

input::placeholder,
textarea::placeholder {
  color: var(--text-tertiary);
  opacity: 0.8;
}

/* Buttons - Ensure Contrast */
button, .btn {
  font-weight: 500;
}

button:not(.ghost):not(.outline),
.btn:not(.ghost):not(.outline) {
  color: white;
}

button.ghost, .btn.ghost {
  color: var(--text-primary);
}

button.outline, .btn.outline {
  color: var(--text-primary);
  border: 1px solid currentColor;
}

/* Crisis Mode */
.crisis-alert {
  background-color: var(--crisis-bg);
  border: 2px solid var(--crisis-border);
  color: var(--crisis-red);
}

/* Utility Classes */
.text-primary { color: var(--text-primary) !important; }
.text-secondary { color: var(--text-secondary) !important; }
.text-tertiary { color: var(--text-tertiary) !important; }
.text-light { color: var(--text-light) !important; }

/* Fix Tailwind Gray Classes */
.text-gray-200 { color: var(--text-tertiary) !important; }
.text-gray-300 { color: var(--text-tertiary) !important; }
.text-gray-400 { color: var(--text-secondary) !important; }
.text-gray-500 { color: var(--text-secondary) !important; }
.text-gray-600 { color: var(--text-secondary) !important; }
.text-gray-700 { color: var(--text-primary) !important; }
.text-gray-800 { color: var(--text-primary) !important; }
.text-gray-900 { color: var(--text-primary) !important; }

/* Dark mode text adjustments */
.dark .text-gray-200 { color: var(--text-secondary) !important; }
.dark .text-gray-300 { color: var(--text-secondary) !important; }
.dark .text-gray-400 { color: var(--text-tertiary) !important; }
.dark .text-gray-500 { color: var(--text-tertiary) !important; }
.dark .text-gray-600 { color: var(--text-light) !important; }